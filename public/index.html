<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Product Owner BIT – Plan Asistente Estratégico</title>

<style>
body {
  font-family: Arial;
  background: #0b1220;
  color: white;
  display: flex;
  justify-content: center;
}

#chat {
  width: 400px;
  margin-top: 40px;
}

.message {
  margin: 10px 0;
}

.user {
  color: #00ffaa;
}

.bot {
  color: #00ccff;
}

input {
  width: 300px;
  padding: 10px;
}

button {
  padding: 10px;
}
</style>

</head>
<body>

<div id="chat"></div>

<br>

<input id="input" placeholder="Escribí tu mensaje">
<button onclick="send()">Enviar</button>

<script>

function addMessage(text, sender) {

  const chat = document.getElementById("chat");

  const div = document.createElement("div");

  div.className = "message " + sender;

  div.innerText = text;

  chat.appendChild(div);

}

async function send() {

  const input = document.getElementById("input");

  const message = input.value;

  if (!message) return;

  addMessage("Vos: " + message, "user");

  input.value = "";

  try {

    const response = await fetch("/api/chat", {

      method: "POST",

      headers: {

        "Content-Type": "application/json"

      },

      body: JSON.stringify({

        message: message,

        name: "Visitante"

      })

    });

    const data = await response.json();

    addMessage("BIT: " + data.reply, "bot");

  }

  catch (error) {

    addMessage("Error conectando con el asistente.", "bot");

  }

}

addMessage("BIT: Hola. Soy el asistente estratégico de Martín Urtasun.", "bot");

</script>

</body>
</html>
